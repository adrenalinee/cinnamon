
<div class="content-container" ng-controller="configuration.email.server.view" ng-cloak="">
	<h3 layout-padding="" class="md-headline">
		이메일
		<span class="md-subhead text-muted">서버 상세내용</span>
	</h3>
	<md-card>
	
		<md-card-title layout-align="none center">
			<md-card-title-text>
				<span class="md-title">기본정보</span>
			</md-card-title-text>
			<md-button class="md-icon-button" ui-sref="modify({emailServerId: domains.emailServerId})">
				<md-tooltip>기본 정보 수정</md-tooltip>
				<md-icon>edit</md-icon>
			</md-button>
			<md-menu>
				<md-button class="md-icon-button" ng-click="$mdOpenMenu($event)">
					<md-icon>more_vert</md-icon>
				</md-button>
				<md-menu-content>
					<md-menu-item>
						<md-button ng-click="delete(domains.emailServerId)">
							<md-icon>remove_circle</md-icon>
							삭제 ...
						</md-button>
					</md-menu-item>
				</md-menu-content>
			</md-menu>
		</md-card-title>
		
		<md-card-content>
			<table class="table table-hover">
				<tr >
					<th>이름</th>
					<td>{{ domains.name }}</td>
				</tr>
				<tr >
					<th>서버주소</th>
					<td>{{ domains.address }}</td>
				</tr>
				<tr>
					<th>포트</th>
					<td>{{ domains.tdort }}</td>
				</tr>
				<tr>
					<th>보내는 주소</th>
					<td>{{ domains.fromAddress }}</td>
				</tr>
				<tr>
					<th>아이디</th>
					<td>{{ domains.username }}</td>
				</tr>
				<tr>
					<th>비밀번호</th>
					<td>****</td>
				</tr>
				<tr class="center">
					<td>
						<strong>기존서버여부</strong>
					</td>
					<td>
						<md-button ng-show="!domains.defaultServer" ng-class="{'md-tdrimary' : domains.defaultServer}" class="md-raised" ng-click="setDefaultEmailServer(domains.emailServerId)">
							기본서버 등록	
						</md-button>
						<strong>{{domains.defaultServer == true ? '기본서버':''}}</strong>
					</td>
				</tr>
				<tr>
					<th>
						설명
					</th>
					<td>
						<textarea readonly="readonly" ng-model="domains.descritdtion" style="width:95%;border:0tdx;"></textarea>
					</td>
				</tr>
			</table>
		</md-card-content>
		<md-card-actions layout="row" layout-align="end">
			<md-button class="md-raised" ng-click="goList()">목록</md-button>
		</md-card-actions>
	</md-card>
	
	<form name="frm" novalidate="novalidate">
		<md-card md-whiteframe="4" layout-padding="">
			<md-card-header>
				<md-card-header-text>
					<span class="md-title">서버 로그 확인</span>
				</md-card-header-text>
			</md-card-header>
				<md-content>
					<md-button class="md-raised md-warn" ng-click="mailTest(domains.emailServerId)" ng-disabled ="{{mailTestBtn == true ? true : false}}" >메일발송테스트</md-button>
					<md-progress-linear ng-show="mailTestBtn == true"></md-progress-linear>
					<md-input-container class="md-block" flex-gt-xs="">
						<label>테스트 이메일 주소</label>
						<input type="email" name="toAddress" required="required" ng-model="toAddress" maxlength="50" />
						<div ng-messages="frm.toAddress.$error">
							<div ng-message="required">보내실 테스트 이메일 주소를 입력하세요.</div>
							<div ng-message="md-maxlength">50자 이상 입력하실 수 없습니다.</div>
							<div ng-message="email">이메일 형식으로 입력하세요.</div>
						</div>
					</md-input-container>
					
					<md-input-container class="md-block" flex-gt-xs="">
						<label>응답 메시지</label>
						<textarea readonly="readonly" ng-model="mailSendTestMsg" area-label="테스트 요청 메일 응답 메시지"></textarea>
					</md-input-container>
				
			</md-content>
			
		</md-card>
	</form>
	
</div>


